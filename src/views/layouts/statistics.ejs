<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('../components/globalHead.ejs') %>
        <title>Gwiazdy ZSI | Statistics</title>
        <link rel="stylesheet" href="/style/statistics.css" />
    </head>

    <body>
        <header id="top-header">
            <h1>Statistics</h1>
        </header>

        <section aria-labelledby="quantity" class="quantity">
            <h2 id="quantity">Quantity of images</h2>

            <p>Total of <%= imagesAmmount %> imgs</p>
            <div class="bar">
                <small
                    class="taged"
                    style="
                        --_ammount: <%=
                            Math.floor(
                                (imagesWithTagsAmmount / imagesAmmount) * 100
                            )
                            %>%;
                    "
                    >Tagged: <%= imagesWithTagsAmmount %>
                </small>
                <small
                    class="notTaged"
                    style="
                        --_ammount: <%=
                            Math.floor(
                                (
                                        (imagesAmmount - imagesWithTagsAmmount) /
                                            imagesAmmount
                                    ) * 100
                            )
                            %>%;
                    "
                >
                    Not tagged: <%= (imagesAmmount - imagesWithTagsAmmount) %>
                </small>
            </div>
        </section>

        <main aria-labelledby="ranking">
            <h2 id="ranking">Teacher ranking</h2>

            <% ranks.forEach((rank, idx)=> { %>

            <div class="rank">
                <div><%= Number(idx) + 1 %>.</div>
                <div class="name"><%= rank.name %></div>
                <div>
                    <%= rank.ammount %>&nbsp;img<%= rank.ammount> 1 ? "s" : ""
                    %>
                </div>
            </div>

            <% }); %>
        </main>

        <footer>
            <a href="/"><button>Return</button></a>

            <a href="#top-header">
                <button>^</button>
            </a>
        </footer>
    </body>
</html>
